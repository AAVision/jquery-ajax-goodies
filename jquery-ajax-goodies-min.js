(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(window.jQuery)})(function(e){function t(e){return[e.type,e.url,e.data].join(":").toLowerCase()}function r(e,t){u.concurrents[e]=t,t.always(function(){delete u.concurrents[e]})}function n(e){var r=e.concurrency;return r&&{type:"string"==typeof r?r:r.type,key:r.key||t(e)}}function s(e,t){u.cache[e]={data:t,stamp:+new Date}}function a(e,t){t!==!1&&delete u.cache[e]}function o(e,t){var r,n=u.cache[e],s=+new Date;if(!n)return null;switch(typeof t){case"boolean":r=t;break;case"function":r=!!t(n);break;case"object":r=+t>s,a(e,!r);break;case"number":r=s-t>n.stamp,a(e,!r);break;default:throw"Invalid `cached` option value. Expected Number, Boolean, Function or Date, but got "+t}return r?n.data:null}function c(t){var r,n=e.Deferred(),s={},a=t.responseHeaders,o=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm;return e.each("setRequestHeader overrideMimeType statusCode abort".split(" "),function(t,r){s[r]=e.noop}),e.each("responseText responseXML readyState status statusText".split(" "),function(e,r){s[r]=t[r]}),s.getAllResponseHeaders=function(){return a},s.getResponseHeader=function(e){var t;if(!r)for(r={};t=o.exec(a);)r[t[1].toLowerCase()]=t[2];return t=r[e.toLowerCase()],t||null},n.resolve(t.response,t.statusText).promise(s),s.success=s.done,s.error=s.fail,s.complete=s.always,s}var u=e.ajax.goodies={cache:{},concurrents:{},version:"0.2.0"};e.ajaxPrefilter(function(r,n,a){var u=t(r),i=r.cached,p=i&&o(u,i);if(p){a.abort();var f=c(p);e.extend(a,f),a.then(r.success,r.error).always(r.complete)}else i&&a.success(function(e){s(u,{response:e,responseText:a.responseText,responseXML:a.responseXML,readyState:a.readyState,status:a.status,statusText:a.statusText,responseHeaders:a.getAllResponseHeaders()})})}),e.ajaxPrefilter(function(e,t,s){var a,o,c=n(e);if(c)if(a=c.key,o=u.concurrents[a])switch(c.type){case"suppress":o.abort(),r(a,s);break;case"abort":s.abort();break;default:throw"Unsupported $.ajax.concurrents type: "+c.type}else r(a,s)})});